---
description: Database schema changes, migrations, and query optimization
globs: *.php, *.install, *.module
---
# Drupal Database Standards

Ensures proper database handling in Drupal applications.

> Priority: critical Â· Version: 1.0

## Applies To
- `*.php`
- `*.install`
- `*.module`

## Trigger Conditions
- Files matching pattern `\.(php|install|module)$`

## Required Checks

- Use Database API instead of db_query
- Ensure hook_update_N includes proper schema changes
- Consider using try-catch block for database operations

## Recommendations

Database Best Practices:
- Use Schema API for table definitions
- Implement proper error handling
- Use update hooks for schema changes
- Follow Drupal's database abstraction layer
- Implement proper indexing strategies
